<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Contact | Vivid Vision</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline';
        connect-src 'self';
        img-src 'self' data: https:;
        style-src 'self' 'unsafe-inline';
        frame-ancestors 'none';
        frame-src https://www.google.com https://www.google.lk;
      " />

  <style>
    :root {
      --bg: #050509;
      --bg-alt: #0b0b10;
      --border: #1f2933;
      --accent: #facc15;
      --accent-strong: #eab308;
      --text: #f9fafb;
      --muted: #9ca3af;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        sans-serif;
      background: var(--bg);
      color: var(--text);
      opacity: 0;
      filter: blur(10px);
      animation: blurInPage 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.1s;
    }

    @keyframes blurInPage {
      0% {
        opacity: 0;
        filter: blur(10px);
        transform: scale(0.98);
      }

      100% {
        opacity: 1;
        filter: blur(0);
        transform: scale(1);
      }
    }

    @keyframes slideInUp {
      0% {
        opacity: 0;
        transform: translateY(40px);
        filter: blur(8px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
      }
    }
    @keyframes slideInLeft {
      0% {
        opacity: 0;
        transform: translateX(-40px);
        filter: blur(8px);
      }

      100% {
        opacity: 1;
        transform: translateX(0);
        filter: blur(0);
      }
    }

    @keyframes slideInRight {
      0% {
        opacity: 0;
        transform: translateX(40px);
        filter: blur(8px);
      }

      100% {
        opacity: 1;
        transform: translateX(0);
        filter: blur(0);
      }
    }

    @keyframes fadeInScale {
      0% {
        opacity: 0;
        transform: scale(0.95);
        filter: blur(6px);
      }

      100% {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
      }
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .product-page-body {
      background: var(--bg);
    }


    .nav {
      position: sticky;
      top: 0;
      z-index: 40;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 28px;
      background: rgba(5, 5, 9, 0.96);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(18px);
      opacity: 0;
      transform: translateY(-20px);
      animation: slideInUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.2s;
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-logo-img {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      object-fit: contain;
      background: radial-gradient(circle at 30% 20%, #facc15, #f59e0b);
      box-shadow: 0 0 24px rgba(250, 204, 21, 0.5);
    }

    .nav-title {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .nav-brand {
      font-size: 12px;
      font-weight: 800;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .nav-subtitle {
      font-size: 11px;
      color: var(--muted);
    }

    .nav-center {
      flex: 1;
      display: flex;
      justify-content: center;
    }

    .nav-links {
      display: flex;
      gap: 22px;
      font-size: 13px;
    }

    .nav-link {
      position: relative;
      color: #e5e7eb;
      opacity: 0.85;
      padding-bottom: 2px;
    }

    .nav-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -3px;
      width: 0%;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent), var(--accent-strong));
      transition: width 0.18s ease-out;
    }

    .nav-link:hover {
      opacity: 1;
      color: #fefce8;
    }

    .nav-link:hover::after,
    .nav-link.active::after {
      width: 100%;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-outline {
      border-radius: 999px;
      padding: 8px 16px;
      border: 1px solid var(--border);
      font-size: 12px;
      font-weight: 500;
      background: transparent;
      color: var(--text);
      cursor: pointer;
    }

    .btn-outline:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    @media (max-width: 800px) {
      .nav {
        padding: 8px 16px;
      }

      .nav-center {
        display: none;
      }
    }


    .section {
      max-width: 1200px;
      margin: 0 auto;
      padding: 22px 24px;
    }


    .contact-heading {
      text-align: center;
      margin-bottom: 10px;
      opacity: 0;
      animation: fadeInScale 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.4s;
    }

    .contact-heading h1 {
      font-size: 28px;
      margin: 0 0 4px;
    }

    .contact-heading p {
      font-size: 14px;
      color: var(--muted);
      margin: 0;
    }

    .contact-wrapper {
      max-width: 1200px;
    }

    .contact-grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 26px;
    }

    .contact-card {
      background: #07070d;
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 20px 22px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.35);
      opacity: 0;
    }

    .contact-form-card {
      animation: slideInLeft 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.6s;
    }

    .contact-info-card {
      animation: slideInRight 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.7s;
    }

    .contact-title {
      font-size: 20px;
      margin: 0 0 8px;
    }

    .contact-desc {
      font-size: 13px;
      color: var(--muted);
      margin: 0 0 16px;
    }


    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #020617;
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 0 12px rgba(250, 204, 21, 0.4);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      filter: brightness(1.05);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(250, 204, 21, 0.5);
    }

    .full-width {
      width: 100%;
    }

    .submit-btn {
      margin-top: 4px;
    }


    .contact-form .form-field {
      margin-bottom: 12px;
    }

    .form-field label {
      display: block;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .form-field input,
    .form-field textarea {
      width: 100%;
      padding: 10px 12px;
      background: #050509;
      border: 1px solid var(--border);
      color: var(--text);
      border-radius: 10px;
      font-size: 14px;
      resize: vertical;
      transition: all 0.3s ease;
    }

    .form-field input:focus,
    .form-field textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.4);
      transform: translateY(-1px);
    }

    input::-webkit-contacts-auto-fill-button,
    input::-webkit-credentials-auto-fill-button {
      visibility: hidden !important;
      display: none !important;
      pointer-events: none !important;
      width: 0 !important;
      height: 0 !important;
    }


    .info-section {
      margin-bottom: 18px;
    }

    .info-section h3 {
      margin: 16px 0 4px;
      font-size: 15px;
    }

    .info-section h3:first-of-type {
      margin-top: 8px;
    }

    .info-section p {
      margin: 0;
      font-size: 14px;
      color: var(--muted);
    }

    .info-section a {
      color: var(--accent);
      transition: color 0.2s ease;
    }

    .info-section a:hover {
      text-decoration: underline;
      color: var(--accent-strong);
    }

    .whatsapp-btn {
      margin-top: 4px;
      text-align: center;
      display: inline-block;
      background: #ffffff !important;
      color: #000000 !important;
      border-radius: 999px;
      border: 1px solid var(--border);
      box-shadow: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .whatsapp-btn:hover {
      background: #e5e5e5 !important;
      color: #000000 !important;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
    }

    .contact-map {
      max-width: 1200px;
      padding-top: 10px;
      padding-bottom: 32px;
      opacity: 0;
      animation: slideInUp 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 0.9s;
    }

    .contact-map-card {
      background: #07070d;
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 20px 22px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.35);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .contact-map-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.45);
    }

    .contact-map-card h2 {
      margin: 0 0 10px;
      font-size: 18px;
    }

    .contact-map-card iframe {
      width: 100%;
      height: 260px;
      border-radius: 14px;
      border: 0;
      transition: transform 0.3s ease;
    }

    .contact-map-card:hover iframe {
      transform: scale(1.01);
    }

    .contact-status {
      margin-top: 8px;
      font-size: 12px;
      color: var(--muted);
      transition: all 0.3s ease;
    }

    .contact-status.success {
      color: #22c55e;
    }

    .contact-status.error {
      color: #f97373;
    }


    .footer {
      border-top: 1px solid var(--border);
      padding: 12px 24px 16px;
      font-size: 12px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      max-width: 1200px;
      margin: 0 auto;
      opacity: 0;
      animation: fadeInScale 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      animation-delay: 1.1s;
    }


    @media (max-width: 900px) {
      .contact-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 700px) {
      .section {
        padding-inline: 16px;
      }

      .nav {
        padding-inline: 16px;
      }
    }

    @media (prefers-reduced-motion: reduce) {

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
  <link rel="icon" type="image/png" href="/favicon.png" />
</head>

<body class="product-page-body">
  <header class="nav">
    <div class="nav-left">
      <img src="https://www.vividvision.lk/l.png" alt="Vivid Vision logo" class="nav-logo-img" />
      <div class="nav-title">
        <a href="/" class="nav-brand">VIVID VISION</a>
        <span class="nav-subtitle">Solar · Security · Smart Systems</span>
      </div>
    </div>
    <nav class="nav-links nav-center">
      <a href="/" class="nav-link">Home</a>
      <a href="/#products" class="nav-link">Products</a>
      <a href="/#why-us" class="nav-link">Why us</a>
      <a href="/#faq" class="nav-link">FAQ</a>
      <a href="/contact" class="nav-link active">Contact</a>
    </nav>
    <div class="nav-right">
      <a href="/#products" class="btn-outline">Shop now</a>
    </div>
  </header>

  <section class="section contact-heading">
    <h1>Contact us</h1>
    <p>Feel free to contact us using the form below.</p>
  </section>

  <main class="section contact-wrapper">
    <div class="contact-grid">
      <div class="contact-card contact-form-card">
        <h2 class="contact-title">Send us a message</h2>
        <p class="contact-desc">
          Fill out the form and we’ll respond with more information,
          quotations, or a follow-up call.
        </p>

        <form id="contactForm" class="contact-form">
          <div class="form-field">
            <label>Full name</label>
            <input type="text" name="name" placeholder="e.g. Lakmal Perera" required />
          </div>

          <div class="form-field">
            <label>Email address</label>
            <input type="email" name="email" placeholder="you@example.com" required />
          </div>

          <div class="form-field">
            <label>Phone number (optional)</label>
            <input type="text" name="phone" placeholder="+94 7X XXX XXXX" />
          </div>

          <div class="form-field">
            <label>Subject</label>
            <input type="text" name="subject" placeholder="e.g. 5kW solar for house, CCTV for shop" />
          </div>

          <div class="form-field">
            <label>Your message</label>
            <textarea name="message" rows="4" placeholder="Tell us about your site, energy usage, or security needs..."
              required></textarea>
          </div>

          <button type="submit" class="btn-primary full-width submit-btn">
            Send message
          </button>

          <p id="contactStatus" class="contact-status"></p>
        </form>
      </div>

      <div class="contact-card contact-info-card">
        <h2 class="contact-title">Our contact information</h2>
        <p class="contact-desc">
          Find us, call us, or email us — we’re ready to help with your solar
          and security requirements.
        </p>

        <div class="info-section">
          <h3>Phone</h3>
          <p>+94 77 XXX XXXX</p>
          <p>+94 31 XXX XXXX</p>
        </div>

        <div class="info-section">
          <h3>Email</h3>
          <p>
            <a href="mailto:info@vividvision.lk">info@vividvision.lk</a>
          </p>
        </div>

        <div class="info-section">
          <h3>WhatsApp</h3>
          <a class="btn-primary full-width whatsapp-btn"
            href="https://wa.me/9477XXXXXXX?text=Hi%20Vivid%20Vision,%20I%20would%20like%20to%20know%20more%20about%20your%20services."
            target="_blank" rel="noopener">
            Chat with us on WhatsApp
          </a>
        </div>

        <div class="info-section">
          <h3>Address</h3>
          <p>
            No 554A 1/1, 2nd Kurana,<br />
            Negombo – Colombo Main Rd,<br />
            Negombo 11500, Sri Lanka
          </p>
        </div>
      </div>
    </div>
  </main>

  <section class="section contact-map">
    <div class="contact-map-card">
      <h2>Find us on the map</h2>
      <iframe src="https://www.google.com/maps?q=No%20554A%201/1%202nd%20Kurana%20Negombo&output=embed" loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </section>

  <footer class="footer">
    <div>© <span id="year"></span> Vivid Vision. All rights reserved.</div>
    <div class="footer-right">The Vision of the Energy</div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    class TypewriterPlaceholder {
      constructor(element, texts, options = {}) {
        this.element = element;
        this.texts = Array.isArray(texts) ? texts : [texts];
        this.typingSpeed = options.typingSpeed || 80;
        this.deletingSpeed = options.deletingSpeed || 40;
        this.delayBetweenTexts = options.delayBetweenTexts || 2000;
        this.delayBeforeDelete = options.delayBeforeDelete || 1500;

        this.currentTextIndex = 0;
        this.currentCharIndex = 0;
        this.isDeleting = false;
        this.isTyping = false;

     
        this.originalPlaceholder = element.getAttribute('placeholder') || '';

        this.element.addEventListener('focus', () => {
          this.isTyping = false;
          this.element.setAttribute('placeholder', this.originalPlaceholder);
        });

        this.element.addEventListener('blur', () => {
          if (!this.element.value) {
            this.start();
          }
        });

        this.start();
      }

      start() {
        if (this.element === document.activeElement) return;
        this.isTyping = true;
        this.type();
      }

      type() {
        if (!this.isTyping || this.element === document.activeElement) return;

        const currentText = this.texts[this.currentTextIndex];

        if (this.isDeleting) {
          this.currentCharIndex--;
          this.element.setAttribute('placeholder', currentText.substring(0, this.currentCharIndex));

          if (this.currentCharIndex === 0) {
            this.isDeleting = false;
            this.currentTextIndex = (this.currentTextIndex + 1) % this.texts.length;
            setTimeout(() => this.type(), this.delayBetweenTexts);
            return;
          }

          setTimeout(() => this.type(), this.deletingSpeed);
        } else {
          this.currentCharIndex++;
          this.element.setAttribute('placeholder', currentText.substring(0, this.currentCharIndex));

          if (this.currentCharIndex === currentText.length) {
            if (this.texts.length > 1) {
              this.isDeleting = true;
              setTimeout(() => this.type(), this.delayBeforeDelete);
            } else {
              this.isTyping = false;
            }
            return;
          }

          setTimeout(() => this.type(), this.typingSpeed);
        }
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
    
      const nameInput = document.querySelector('input[name="name"]');
      if (nameInput) {
        new TypewriterPlaceholder(nameInput, [
          'e.g. Lakmal Perera',
          'e.g. Nimal Silva',
          'e.g. Kamal Fernando'
        ], { typingSpeed: 70, deletingSpeed: 35 });
      }

      const emailInput = document.querySelector('input[name="email"]');
      if (emailInput) {
        new TypewriterPlaceholder(emailInput, [
          'you@example.com',
          'contact@company.lk',
          'info@business.com'
        ], { typingSpeed: 60, deletingSpeed: 30 });
      }

      const phoneInput = document.querySelector('input[name="phone"]');
      if (phoneInput) {
        new TypewriterPlaceholder(phoneInput, [
          '+94 77 123 4567',
          '+94 71 987 6543',
          '+94 76 555 8888'
        ], { typingSpeed: 65, deletingSpeed: 32 });
      }

      const subjectInput = document.querySelector('input[name="subject"]');
      if (subjectInput) {
        new TypewriterPlaceholder(subjectInput, [
          'e.g. 5kW solar for house',
          'e.g. CCTV for shop',
          'e.g. Solar + Security system',
          'e.g. Smart home automation'
        ], { typingSpeed: 75, deletingSpeed: 38, delayBeforeDelete: 2000 });
      }

      const messageTextarea = document.querySelector('textarea[name="message"]');
      if (messageTextarea) {
        new TypewriterPlaceholder(messageTextarea, [
          'Tell us about your site, energy usage, or security needs...',
          'Describe your project requirements and location...',
          'Share details about your solar or CCTV installation needs...',
          'What can we help you with today?'
        ], { typingSpeed: 50, deletingSpeed: 25, delayBeforeDelete: 2500 });
      }
    });

    const form = document.getElementById("contactForm");
    const statusEl = document.getElementById("contactStatus");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusEl.textContent = "Sending...";
      statusEl.className = "contact-status";

      const formData = new FormData(form);
      const payload = {
        name: formData.get("name")?.trim(),
        email: formData.get("email")?.trim(),
        phone: formData.get("phone")?.trim(),
        subject: formData.get("subject")?.trim(),
        message: formData.get("message")?.trim()
      };

      try {
        const res = await fetch("/api/contact", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        if (!res.ok) throw new Error("Bad status");

        statusEl.textContent =
          "Message sent! We'll get back to you as soon as possible.";
        statusEl.classList.add("success");
        form.reset();
      } catch (err) {
        console.error(err);
        statusEl.textContent =
          "Failed to send. Please try again later or contact us via WhatsApp / email.";
        statusEl.classList.add("error");
      }
    });
  </script>
</body>

</html>